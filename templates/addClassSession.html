{{ define "addClassSession" }}
    <h3 class="font-bold text-lg">Add Session</h3>
    <form id="add_class_form" hx-post="/admin/classSession" hx-target=".content" hx-swap="outerHTML show:top">
        <label class="label">
            <span class="text-base label-text">Class</span>
        </label>
        <select class="select select-bordered w-full max-w-xs" name="Class" required>
            <option disabled selected></option>
            {{ range .Classes }}
            <option>{{ .Name }}</option>
            {{ end }}
        </select>
        <label class="label">
            <span class="text-base label-text">Period</span>
        </label>
        <div class="flex">
            <select class="select select-bordered w-full max-w-xs" name="Period" onchange="
                    startDateInput = document.querySelector('#startDate');
                    endDateInput = document.querySelector('#endDate');
                    startDateInput.value = this.options[this.selectedIndex].dataset.startdate;
                    endDateInput.value = this.options[this.selectedIndex].dataset.enddate;
                    editButton = document.querySelector('#edit_period');
                    editButton.setAttribute('hx-get', '/admin/classPeriod/' + this.value + '/edit');
                    editButton.classList.remove('hidden');
                    htmx.process(editButton);
                    " required>
                <option disabled selected></option>
                {{ range .Periods }}
                <option value="{{ .ID }}" data-startdate="{{ formatTimePST .StartDate "2006-01-02" }}" data-enddate="{{ formatTimePST .EndDate "2006-01-02" }}" >{{ .Name }}</option>
                {{ end }}
            </select>
            <button hx-get="/admin/classPeriod" hx-target="#addClass" hx-swap="innerHTML"
                class="btn btn-primary ml-2" type="button">
                Add Period
            </button>
            <button hx-target="#addClass" hx-swap="outerHTML" class="btn btn-primary ml-2 hidden" id="edit_period"
                type="button">
                Edit Period
            </button>
        </div>
        <div class="flex py-2 items-center">
            <input type="date" placeholder="Start Date" class="input input-bordered" name="StartDate" id="startDate" required />
            <p class="px-5">
                to
            </p>
            <input type="date" placeholder="End Date" class="input input-bordered mr-2" name="EndDate" id="endDate" required />
        </div>
        <label class="label">
            <span class="text-base label-text">Class Time</span>
        </label>
        <div class="flex items-center">
            <input type="time" placeholder="Start Time" class="input input-bordered" name="StartTime" required />
            <p class="px-5">
                to
            </p>
            <input type="time" placeholder="End Time" class="input input-bordered" name="EndTime" required />
            </div>
        </div>
        <label class="label">
            <span class="text-base label-text">Location</span>
        </label>
        <select class="select select-bordered w-full max-w-xs" name="Location" required>
            {{ range .Locations }}
            <option>{{ .Name }}</option>
            {{ end }}
        </select>
        <div class="form-control max-w-xs">
            <label class="label cursor-pointer">
                <span class="label-text">Sunday</span>
                <input type="checkbox" class="checkbox" name="Sunday" />
            </label>
            <label class="label cursor-pointer">
                <span class="label-text">Monday</span>
                <input type="checkbox" class="checkbox" name="Monday" />
            </label>
            <label class="label cursor-pointer">
                <span class="label-text">Tuesday</span>
                <input type="checkbox" class="checkbox" name="Tuesday" />
            </label>
            <label class="label cursor-pointer">
                <span class="label-text">Wednesday</span>
                <input type="checkbox" class="checkbox" name="Wednesday" />
            </label>
            <label class="label cursor-pointer">
                <span class="label-text">Thursday</span>
                <input type="checkbox" class="checkbox" name="Thursday" />
            </label>
            <label class="label cursor-pointer">
                <span class="label-text">Friday</span>
                <input type="checkbox" class="checkbox" name="Friday" />
            </label>
            <label class="label cursor-pointer">
                <span class="label-text">Saturday</span>
                <input type="checkbox" class="checkbox" name="Saturday" />
            </label>
        </div>
    </form>
    <a class="btn" href="/calendar">Close</a>
    <input type="Submit" form="add_class_form" class="btn btn-primary" />
{{ end }}